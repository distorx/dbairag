INFO:     Will watch for changes in these directories: ['/home/rick/source/dbairag/backend']
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [407913] using StatReload
INFO:     Started server process [407936]
INFO:     Waiting for application startup.
2025-08-23 10:23:19,928 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-08-23 10:23:19,929 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("connections")
2025-08-23 10:23:19,929 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-08-23 10:23:19,931 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("query_history")
2025-08-23 10:23:19,931 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-08-23 10:23:19,932 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
2025-08-23 10:23:30,912 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-08-23 10:23:30,921 INFO sqlalchemy.engine.Engine SELECT connections.id, connections.name, connections.connection_string, connections.database_type, connections.is_active, connections.created_at, connections.updated_at 
FROM connections 
WHERE connections.id = ?
2025-08-23 10:23:30,921 INFO sqlalchemy.engine.Engine [generated in 0.00037s] (1,)
/home/rick/source/dbairag/backend/app/services/mssql_service.py:46: UserWarning: pandas only supports SQLAlchemy connectable (engine/connection) or database string URI or sqlite3 DBAPI2 connection. Other DBAPI2 objects are not tested. Please consider using SQLAlchemy.
  df = pd.read_sql(query, conn)
2025-08-23 10:23:32,091 INFO sqlalchemy.engine.Engine INSERT INTO query_history (connection_id, prompt, generated_sql, result_type, result_data, execution_time) VALUES (?, ?, ?, ?, ?, ?) RETURNING id, created_at
2025-08-23 10:23:32,091 INFO sqlalchemy.engine.Engine [generated in 0.00093s] (1, 'show tables', "SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' ORDER BY TABLE_NAME", <ResultType.TABLE: 'table'>, '{"columns": ["TABLE_NAME"], "data": [{"TABLE_NAME": "__EFMigrationsHistory"}, {"TABLE_NAME": "AspNetRoleClaims"}, {"TABLE_NAME": "AspNetRoles"}, {"TA ... (1446 characters truncated) ... 815_143000"}, {"TABLE_NAME": "StudentRecommendeds_Backup_20250811"}, {"TABLE_NAME": "Students"}, {"TABLE_NAME": "StudentToCreate"}], "row_count": 43}', 1153)
2025-08-23 10:23:32,100 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:59522 - "POST /api/queries/execute HTTP/1.1" 200 OK
2025-08-23 10:23:48,929 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-08-23 10:23:48,929 INFO sqlalchemy.engine.Engine SELECT connections.id, connections.name, connections.connection_string, connections.database_type, connections.is_active, connections.created_at, connections.updated_at 
FROM connections 
WHERE connections.id = ?
2025-08-23 10:23:48,929 INFO sqlalchemy.engine.Engine [cached since 18.01s ago] (1,)
/home/rick/source/dbairag/backend/app/services/mssql_service.py:46: UserWarning: pandas only supports SQLAlchemy connectable (engine/connection) or database string URI or sqlite3 DBAPI2 connection. Other DBAPI2 objects are not tested. Please consider using SQLAlchemy.
  df = pd.read_sql(query, conn)
2025-08-23 10:23:50,203 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:46014 - "POST /api/queries/execute HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/fastapi/routing.py", line 328, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/fastapi/routing.py", line 177, in serialize_response
    raise ResponseValidationError(
        errors=_normalize_errors(errors), body=response_content
    )
fastapi.exceptions.ResponseValidationError: 1 validation errors:
  {'type': 'model_attributes_type', 'loc': ('response',), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': None}

WARNING:  StatReload detected changes in 'app/routers/queries.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [407936]
INFO:     Started server process [409067]
INFO:     Waiting for application startup.
2025-08-23 10:24:21,174 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-08-23 10:24:21,175 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("connections")
2025-08-23 10:24:21,175 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-08-23 10:24:21,177 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("query_history")
2025-08-23 10:24:21,177 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-08-23 10:24:21,179 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
2025-08-23 10:24:34,703 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-08-23 10:24:34,725 INFO sqlalchemy.engine.Engine SELECT connections.id, connections.name, connections.connection_string, connections.database_type, connections.is_active, connections.created_at, connections.updated_at 
FROM connections 
WHERE connections.id = ?
2025-08-23 10:24:34,726 INFO sqlalchemy.engine.Engine [generated in 0.00058s] (1,)
/home/rick/source/dbairag/backend/app/services/mssql_service.py:46: UserWarning: pandas only supports SQLAlchemy connectable (engine/connection) or database string URI or sqlite3 DBAPI2 connection. Other DBAPI2 objects are not tested. Please consider using SQLAlchemy.
  df = pd.read_sql(query, conn)
2025-08-23 10:24:36,006 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:40694 - "POST /api/queries/execute HTTP/1.1" 200 OK
WARNING:  StatReload detected changes in 'app/services/schema_analyzer.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [409067]
INFO:     Started server process [410013]
INFO:     Waiting for application startup.
2025-08-23 10:25:13,530 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-08-23 10:25:13,530 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("connections")
2025-08-23 10:25:13,531 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-08-23 10:25:13,533 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("query_history")
2025-08-23 10:25:13,533 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-08-23 10:25:13,535 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
2025-08-23 10:25:28,005 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-08-23 10:25:28,063 INFO sqlalchemy.engine.Engine SELECT connections.id, connections.name, connections.connection_string, connections.database_type, connections.is_active, connections.created_at, connections.updated_at 
FROM connections 
WHERE connections.id = ?
2025-08-23 10:25:28,066 INFO sqlalchemy.engine.Engine [generated in 0.00332s] (1,)
/home/rick/source/dbairag/backend/app/services/mssql_service.py:46: UserWarning: pandas only supports SQLAlchemy connectable (engine/connection) or database string URI or sqlite3 DBAPI2 connection. Other DBAPI2 objects are not tested. Please consider using SQLAlchemy.
  df = pd.read_sql(query, conn)
2025-08-23 10:25:30,426 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:56434 - "POST /api/queries/execute HTTP/1.1" 200 OK
2025-08-23 10:25:44,287 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-08-23 10:25:44,289 INFO sqlalchemy.engine.Engine SELECT connections.id, connections.name, connections.connection_string, connections.database_type, connections.is_active, connections.created_at, connections.updated_at 
FROM connections 
WHERE connections.id = ?
2025-08-23 10:25:44,289 INFO sqlalchemy.engine.Engine [cached since 16.23s ago] (1,)
/home/rick/source/dbairag/backend/app/services/mssql_service.py:46: UserWarning: pandas only supports SQLAlchemy connectable (engine/connection) or database string URI or sqlite3 DBAPI2 connection. Other DBAPI2 objects are not tested. Please consider using SQLAlchemy.
  df = pd.read_sql(query, conn)
2025-08-23 10:25:45,586 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:41404 - "POST /api/queries/execute HTTP/1.1" 200 OK
2025-08-23 10:25:52,856 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-08-23 10:25:52,856 INFO sqlalchemy.engine.Engine SELECT connections.id, connections.name, connections.connection_string, connections.database_type, connections.is_active, connections.created_at, connections.updated_at 
FROM connections 
WHERE connections.id = ?
2025-08-23 10:25:52,856 INFO sqlalchemy.engine.Engine [cached since 24.79s ago] (1,)
2025-08-23 10:25:53,281 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:41334 - "GET /api/queries/schema/1?force_refresh=true HTTP/1.1" 200 OK
2025-08-23 10:26:37,401 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-08-23 10:26:37,401 INFO sqlalchemy.engine.Engine SELECT connections.id, connections.name, connections.connection_string, connections.database_type, connections.is_active, connections.created_at, connections.updated_at 
FROM connections 
WHERE connections.id = ?
2025-08-23 10:26:37,402 INFO sqlalchemy.engine.Engine [cached since 69.34s ago] (1,)
/home/rick/source/dbairag/backend/app/services/mssql_service.py:46: UserWarning: pandas only supports SQLAlchemy connectable (engine/connection) or database string URI or sqlite3 DBAPI2 connection. Other DBAPI2 objects are not tested. Please consider using SQLAlchemy.
  df = pd.read_sql(query, conn)
2025-08-23 10:26:38,539 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:34534 - "POST /api/queries/execute HTTP/1.1" 200 OK
2025-08-23 10:26:51,636 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-08-23 10:26:51,637 INFO sqlalchemy.engine.Engine SELECT connections.id, connections.name, connections.connection_string, connections.database_type, connections.is_active, connections.created_at, connections.updated_at 
FROM connections 
WHERE connections.id = ?
2025-08-23 10:26:51,637 INFO sqlalchemy.engine.Engine [cached since 83.57s ago] (1,)
/home/rick/source/dbairag/backend/app/services/mssql_service.py:46: UserWarning: pandas only supports SQLAlchemy connectable (engine/connection) or database string URI or sqlite3 DBAPI2 connection. Other DBAPI2 objects are not tested. Please consider using SQLAlchemy.
  df = pd.read_sql(query, conn)
2025-08-23 10:26:52,814 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:51368 - "POST /api/queries/execute HTTP/1.1" 200 OK
WARNING:  StatReload detected changes in 'app/routers/queries.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [410013]
INFO:     Started server process [412800]
INFO:     Waiting for application startup.
2025-08-23 10:27:45,707 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-08-23 10:27:45,708 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("connections")
2025-08-23 10:27:45,708 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-08-23 10:27:45,711 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("query_history")
2025-08-23 10:27:45,712 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-08-23 10:27:45,713 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'app/routers/queries.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [412800]
INFO:     Started server process [412927]
INFO:     Waiting for application startup.
2025-08-23 10:27:53,616 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-08-23 10:27:53,616 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("connections")
2025-08-23 10:27:53,616 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-08-23 10:27:53,618 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("query_history")
2025-08-23 10:27:53,618 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-08-23 10:27:53,620 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
2025-08-23 10:28:07,464 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-08-23 10:28:07,499 INFO sqlalchemy.engine.Engine SELECT connections.id, connections.name, connections.connection_string, connections.database_type, connections.is_active, connections.created_at, connections.updated_at 
FROM connections 
WHERE connections.id = ?
2025-08-23 10:28:07,511 INFO sqlalchemy.engine.Engine [generated in 0.01233s] (1,)
/home/rick/source/dbairag/backend/app/services/mssql_service.py:46: UserWarning: pandas only supports SQLAlchemy connectable (engine/connection) or database string URI or sqlite3 DBAPI2 connection. Other DBAPI2 objects are not tested. Please consider using SQLAlchemy.
  df = pd.read_sql(query, conn)
2025-08-23 10:28:08,823 INFO sqlalchemy.engine.Engine INSERT INTO query_history (connection_id, prompt, generated_sql, result_type, result_data, execution_time) VALUES (?, ?, ?, ?, ?, ?) RETURNING id, created_at
2025-08-23 10:28:08,823 INFO sqlalchemy.engine.Engine [generated in 0.00047s] (1, 'show highschools', 'SELECT TOP 100 * FROM HighSchools WITH (NOLOCK)', <ResultType.TABLE: 'table'>, '{"columns": ["Id", "Name", "Code", "Type", "AddressLine1", "AddressLine2", "CityId", "ZipCode", "Phone", "Website", "Email", "IsActive", "Notes", "Cr ... (39843 characters truncated) ...  "CreatedAt": "2025-07-11T00:56:45.500000", "UpdatedAt": null, "ContactPerson": null, "ContactPhone": null, "ContactEmail": null}], "row_count": 100}', 1294)
2025-08-23 10:28:08,827 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:35796 - "POST /api/queries/execute HTTP/1.1" 200 OK
2025-08-23 10:28:24,975 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-08-23 10:28:24,976 INFO sqlalchemy.engine.Engine SELECT connections.id, connections.name, connections.connection_string, connections.database_type, connections.is_active, connections.created_at, connections.updated_at 
FROM connections 
WHERE connections.id = ?
2025-08-23 10:28:24,976 INFO sqlalchemy.engine.Engine [cached since 17.48s ago] (1,)
/home/rick/source/dbairag/backend/app/services/mssql_service.py:46: UserWarning: pandas only supports SQLAlchemy connectable (engine/connection) or database string URI or sqlite3 DBAPI2 connection. Other DBAPI2 objects are not tested. Please consider using SQLAlchemy.
  df = pd.read_sql(query, conn)
2025-08-23 10:28:26,225 INFO sqlalchemy.engine.Engine INSERT INTO query_history (connection_id, prompt, generated_sql, result_type, result_data, execution_time) VALUES (?, ?, ?, ?, ?, ?) RETURNING id, created_at
2025-08-23 10:28:26,225 INFO sqlalchemy.engine.Engine [cached since 17.4s ago] (1, 'show highschools', 'SELECT TOP 100 * FROM HighSchools WITH (NOLOCK)', <ResultType.TABLE: 'table'>, '{"columns": ["Id", "Name", "Code", "Type", "AddressLine1", "AddressLine2", "CityId", "ZipCode", "Phone", "Website", "Email", "IsActive", "Notes", "Cr ... (39843 characters truncated) ...  "CreatedAt": "2025-07-11T00:56:45.500000", "UpdatedAt": null, "ContactPerson": null, "ContactPhone": null, "ContactEmail": null}], "row_count": 100}', 1216)
2025-08-23 10:28:26,231 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:37192 - "POST /api/queries/execute HTTP/1.1" 200 OK
2025-08-23 10:28:38,144 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-08-23 10:28:38,145 INFO sqlalchemy.engine.Engine SELECT connections.id, connections.name, connections.connection_string, connections.database_type, connections.is_active, connections.created_at, connections.updated_at 
FROM connections 
WHERE connections.id = ?
2025-08-23 10:28:38,145 INFO sqlalchemy.engine.Engine [cached since 30.65s ago] (1,)
/home/rick/source/dbairag/backend/app/services/mssql_service.py:46: UserWarning: pandas only supports SQLAlchemy connectable (engine/connection) or database string URI or sqlite3 DBAPI2 connection. Other DBAPI2 objects are not tested. Please consider using SQLAlchemy.
  df = pd.read_sql(query, conn)
2025-08-23 10:28:39,436 INFO sqlalchemy.engine.Engine INSERT INTO query_history (connection_id, prompt, generated_sql, result_type, result_data, execution_time) VALUES (?, ?, ?, ?, ?, ?) RETURNING id, created_at
2025-08-23 10:28:39,437 INFO sqlalchemy.engine.Engine [cached since 30.61s ago] (1, 'show students with their applications', 'SELECT TOP 100 * FROM Students WITH (NOLOCK)', <ResultType.TABLE: 'table'>, '{"columns": ["Id", "FirstName", "MiddleName", "LastName", "SecondLastName", "DateOfBirth", "Email", "MobilePhone", "HomePhone", "AddressLine1", "Addr ... (126041 characters truncated) ... tyId": 58.0, "IsGovernmentLegalTutor": false, "IdentificationType": 2, "IdentificationNumber": "A60511805", "SSN": "597-84-4663"}], "row_count": 100}', 1278)
2025-08-23 10:28:39,440 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:38716 - "POST /api/queries/execute HTTP/1.1" 200 OK
2025-08-23 10:28:56,176 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-08-23 10:28:56,176 INFO sqlalchemy.engine.Engine SELECT connections.id, connections.name, connections.connection_string, connections.database_type, connections.is_active, connections.created_at, connections.updated_at 
FROM connections 
WHERE connections.id = ?
2025-08-23 10:28:56,176 INFO sqlalchemy.engine.Engine [cached since 48.68s ago] (1,)
/home/rick/source/dbairag/backend/app/services/mssql_service.py:46: UserWarning: pandas only supports SQLAlchemy connectable (engine/connection) or database string URI or sqlite3 DBAPI2 connection. Other DBAPI2 objects are not tested. Please consider using SQLAlchemy.
  df = pd.read_sql(query, conn)
2025-08-23 10:28:57,317 INFO sqlalchemy.engine.Engine INSERT INTO query_history (connection_id, prompt, generated_sql, result_type, result_data, execution_time) VALUES (?, ?, ?, ?, ?, ?) RETURNING id, created_at
2025-08-23 10:28:57,318 INFO sqlalchemy.engine.Engine [cached since 48.49s ago] (1, 'count students', 'SELECT COUNT(*) AS total FROM students WITH (NOLOCK)', <ResultType.TEXT: 'text'>, '307', 1137)
2025-08-23 10:28:57,319 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:49612 - "POST /api/queries/execute HTTP/1.1" 200 OK
2025-08-23 10:29:04,656 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-08-23 10:29:04,656 INFO sqlalchemy.engine.Engine SELECT connections.id, connections.name, connections.connection_string, connections.database_type, connections.is_active, connections.created_at, connections.updated_at 
FROM connections 
WHERE connections.id = ?
2025-08-23 10:29:04,656 INFO sqlalchemy.engine.Engine [cached since 57.16s ago] (1,)
/home/rick/source/dbairag/backend/app/services/mssql_service.py:46: UserWarning: pandas only supports SQLAlchemy connectable (engine/connection) or database string URI or sqlite3 DBAPI2 connection. Other DBAPI2 objects are not tested. Please consider using SQLAlchemy.
  df = pd.read_sql(query, conn)
2025-08-23 10:29:05,803 INFO sqlalchemy.engine.Engine INSERT INTO query_history (connection_id, prompt, generated_sql, result_type, result_data, execution_time) VALUES (?, ?, ?, ?, ?, ?) RETURNING id, created_at
2025-08-23 10:29:05,803 INFO sqlalchemy.engine.Engine [cached since 56.98s ago] (1, 'count students', 'SELECT COUNT(*) AS total FROM students WITH (NOLOCK)', <ResultType.TEXT: 'text'>, '307', 1144)
2025-08-23 10:29:05,805 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:55762 - "POST /api/queries/execute HTTP/1.1" 200 OK
WARNING:  StatReload detected changes in 'app/config.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [412927]
Process SpawnProcess-6:
Traceback (most recent call last):
  File "/usr/lib64/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/usr/lib64/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib64/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/usr/lib64/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "/usr/lib64/python3.13/asyncio/base_events.py", line 725, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/config.py", line 436, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/usr/lib64/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/home/rick/source/dbairag/backend/app/main.py", line 7, in <module>
    from .routers import connections, queries
  File "/home/rick/source/dbairag/backend/app/routers/queries.py", line 22, in <module>
    rag_service = RAGService()
  File "/home/rick/source/dbairag/backend/app/services/rag_service.py", line 16, in __init__
    self.llm = ChatOpenAI(
               ^^^^^^^^^^
NameError: name 'ChatOpenAI' is not defined
WARNING:  StatReload detected changes in 'app/services/rag_service.py'. Reloading...
INFO:     Started server process [421981]
INFO:     Waiting for application startup.
OpenAI ChatGPT initialized successfully
2025-08-23 10:36:35,403 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-08-23 10:36:35,403 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("connections")
2025-08-23 10:36:35,404 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-08-23 10:36:35,405 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("query_history")
2025-08-23 10:36:35,405 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-08-23 10:36:35,406 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
2025-08-23 10:36:57,022 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-08-23 10:36:57,028 INFO sqlalchemy.engine.Engine SELECT connections.id, connections.name, connections.connection_string, connections.database_type, connections.is_active, connections.created_at, connections.updated_at 
FROM connections 
WHERE connections.id = ?
2025-08-23 10:36:57,028 INFO sqlalchemy.engine.Engine [generated in 0.00022s] (1,)
/home/rick/source/dbairag/backend/app/services/mssql_service.py:46: UserWarning: pandas only supports SQLAlchemy connectable (engine/connection) or database string URI or sqlite3 DBAPI2 connection. Other DBAPI2 objects are not tested. Please consider using SQLAlchemy.
  df = pd.read_sql(query, conn)
2025-08-23 10:37:01,391 INFO sqlalchemy.engine.Engine INSERT INTO query_history (connection_id, prompt, generated_sql, result_type, result_data, execution_time) VALUES (?, ?, ?, ?, ?, ?) RETURNING id, created_at
2025-08-23 10:37:01,392 INFO sqlalchemy.engine.Engine [generated in 0.00045s] (1, 'show me all students with their applications that were approved', "SELECT * \nFROM [Students] AS s\nINNER JOIN [Applications] AS a ON s.[StudentID] = a.[StudentID]\nWHERE a.[Status] = 'Approved'", <ResultType.ERROR: 'error'>, '{"error": "Execution failed on sql \'SELECT * \\nFROM [Students] AS s\\nINNER JOIN [Applications] AS a ON s.[StudentID] = a.[StudentID]\\nWHERE a.[St ... (38 characters truncated) ... lid object name \'Applications\'.DB-Lib error message 20018, severity 16:\\\\nGeneral SQL Server error: Check messages from the SQL Server\\\\n\\")"}', 4357)
2025-08-23 10:37:01,394 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:35242 - "POST /api/queries/execute HTTP/1.1" 200 OK
WARNING:  StatReload detected changes in 'app/services/rag_service.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [421981]
INFO:     Started server process [422778]
INFO:     Waiting for application startup.
OpenAI ChatGPT initialized successfully
2025-08-23 10:37:20,534 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-08-23 10:37:20,534 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("connections")
2025-08-23 10:37:20,534 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-08-23 10:37:20,536 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("query_history")
2025-08-23 10:37:20,536 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-08-23 10:37:20,537 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'app/services/rag_service.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [422778]
INFO:     Started server process [423081]
INFO:     Waiting for application startup.
OpenAI ChatGPT initialized successfully
2025-08-23 10:37:37,552 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-08-23 10:37:37,552 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("connections")
2025-08-23 10:37:37,552 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-08-23 10:37:37,553 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("query_history")
2025-08-23 10:37:37,553 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-08-23 10:37:37,554 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'app/models.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [423081]
INFO:     Started server process [425048]
INFO:     Waiting for application startup.
OpenAI ChatGPT initialized successfully
2025-08-23 10:39:32,213 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-08-23 10:39:32,214 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("connections")
2025-08-23 10:39:32,214 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-08-23 10:39:32,215 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("query_history")
2025-08-23 10:39:32,215 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-08-23 10:39:32,216 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'app/models.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [425048]
INFO:     Started server process [425255]
INFO:     Waiting for application startup.
OpenAI ChatGPT initialized successfully
2025-08-23 10:39:44,064 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-08-23 10:39:44,064 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("connections")
2025-08-23 10:39:44,065 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-08-23 10:39:44,066 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("query_history")
2025-08-23 10:39:44,066 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-08-23 10:39:44,068 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'app/models.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [425255]
INFO:     Started server process [425500]
INFO:     Waiting for application startup.
OpenAI ChatGPT initialized successfully
2025-08-23 10:39:59,365 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-08-23 10:39:59,365 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("connections")
2025-08-23 10:39:59,365 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-08-23 10:39:59,366 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("enum_files")
2025-08-23 10:39:59,366 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-08-23 10:39:59,367 INFO sqlalchemy.engine.Engine PRAGMA temp.table_info("enum_files")
2025-08-23 10:39:59,367 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-08-23 10:39:59,368 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("query_history")
2025-08-23 10:39:59,368 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-08-23 10:39:59,369 INFO sqlalchemy.engine.Engine 
CREATE TABLE enum_files (
	id INTEGER NOT NULL, 
	connection_id INTEGER NOT NULL, 
	filename VARCHAR(255) NOT NULL, 
	original_filename VARCHAR(255) NOT NULL, 
	file_path TEXT NOT NULL, 
	content_json TEXT NOT NULL, 
	description TEXT, 
	is_active BOOLEAN, 
	created_at DATETIME DEFAULT CURRENT_TIMESTAMP, 
	updated_at DATETIME, 
	PRIMARY KEY (id), 
	FOREIGN KEY(connection_id) REFERENCES connections (id)
)


2025-08-23 10:39:59,369 INFO sqlalchemy.engine.Engine [no key 0.00010s] ()
2025-08-23 10:39:59,378 INFO sqlalchemy.engine.Engine CREATE INDEX ix_enum_files_id ON enum_files (id)
2025-08-23 10:39:59,379 INFO sqlalchemy.engine.Engine [no key 0.00014s] ()
2025-08-23 10:39:59,386 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'app/routers/queries.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [425500]
Process SpawnProcess-13:
Traceback (most recent call last):
  File "/usr/lib64/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/usr/lib64/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib64/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/usr/lib64/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "/usr/lib64/python3.13/asyncio/base_events.py", line 725, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/config.py", line 436, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/importer.py", line 22, in import_from_string
    raise exc from None
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/usr/lib64/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/home/rick/source/dbairag/backend/app/main.py", line 7, in <module>
    from .routers import connections, queries
  File "/home/rick/source/dbairag/backend/app/routers/queries.py", line 10, in <module>
    import aiofiles
ModuleNotFoundError: No module named 'aiofiles'
WARNING:  StatReload detected changes in 'app/routers/queries.py'. Reloading...
Process SpawnProcess-14:
Traceback (most recent call last):
  File "/usr/lib64/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/usr/lib64/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib64/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/usr/lib64/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "/usr/lib64/python3.13/asyncio/base_events.py", line 725, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/config.py", line 436, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/importer.py", line 22, in import_from_string
    raise exc from None
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/usr/lib64/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/home/rick/source/dbairag/backend/app/main.py", line 7, in <module>
    from .routers import connections, queries
  File "/home/rick/source/dbairag/backend/app/routers/queries.py", line 10, in <module>
    import aiofiles
ModuleNotFoundError: No module named 'aiofiles'
WARNING:  StatReload detected changes in 'app/routers/queries.py'. Reloading...
Process SpawnProcess-15:
Traceback (most recent call last):
  File "/usr/lib64/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/usr/lib64/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib64/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/usr/lib64/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "/usr/lib64/python3.13/asyncio/base_events.py", line 725, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/config.py", line 436, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/usr/lib64/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/home/rick/source/dbairag/backend/app/main.py", line 7, in <module>
    from .routers import connections, queries
  File "/home/rick/source/dbairag/backend/app/routers/queries.py", line 577
    return {"enum_name": enum_name, "explanation": explanation}    return {"message": f"Enum {enum_name} can be used in WHERE clauses and filters"}
                                                                   ^^^^^^
SyntaxError: invalid syntax
WARNING:  StatReload detected changes in 'app/services/enum_service.py'. Reloading...
Process SpawnProcess-16:
Traceback (most recent call last):
  File "/usr/lib64/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/usr/lib64/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib64/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/usr/lib64/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "/usr/lib64/python3.13/asyncio/base_events.py", line 725, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/config.py", line 436, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/usr/lib64/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/home/rick/source/dbairag/backend/app/main.py", line 7, in <module>
    from .routers import connections, queries
  File "/home/rick/source/dbairag/backend/app/routers/queries.py", line 577
    return {"enum_name": enum_name, "explanation": explanation}    return {"message": f"Enum {enum_name} can be used in WHERE clauses and filters"}
                                                                   ^^^^^^
SyntaxError: invalid syntax
WARNING:  StatReload detected changes in 'app/services/enum_service.py'. Reloading...
Process SpawnProcess-17:
Traceback (most recent call last):
  File "/usr/lib64/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/usr/lib64/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib64/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/usr/lib64/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "/usr/lib64/python3.13/asyncio/base_events.py", line 725, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/config.py", line 436, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/usr/lib64/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/home/rick/source/dbairag/backend/app/main.py", line 7, in <module>
    from .routers import connections, queries
  File "/home/rick/source/dbairag/backend/app/routers/queries.py", line 577
    return {"enum_name": enum_name, "explanation": explanation}    return {"message": f"Enum {enum_name} can be used in WHERE clauses and filters"}
                                                                   ^^^^^^
SyntaxError: invalid syntax
WARNING:  StatReload detected changes in 'app/routers/queries.py'. Reloading...
INFO:     Started server process [430569]
INFO:     Waiting for application startup.
OpenAI ChatGPT initialized successfully
2025-08-23 10:44:43,270 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-08-23 10:44:43,270 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("connections")
2025-08-23 10:44:43,270 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-08-23 10:44:43,271 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("enum_files")
2025-08-23 10:44:43,271 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-08-23 10:44:43,272 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("query_history")
2025-08-23 10:44:43,272 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-08-23 10:44:43,273 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
INFO:     127.0.0.1:36388 - "GET /api/health HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:34482 - "GET /api/connections HTTP/1.1" 307 Temporary Redirect
2025-08-23 10:45:12,247 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-08-23 10:45:12,266 INFO sqlalchemy.engine.Engine SELECT connections.id, connections.name, connections.connection_string, connections.database_type, connections.is_active, connections.created_at, connections.updated_at 
FROM connections
 LIMIT ? OFFSET ?
2025-08-23 10:45:12,266 INFO sqlalchemy.engine.Engine [generated in 0.00025s] (100, 0)
2025-08-23 10:45:12,268 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:34714 - "GET /api/connections/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:34360 - "POST /api/enums/1/upload HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:44660 - "POST /api/enums/1/upload/ HTTP/1.1" 404 Not Found
/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/fastapi/openapi/utils.py:246: UserWarning: Duplicate Operation ID get_query_history_api_queries_history__connection_id__get for function get_query_history at /home/rick/source/dbairag/backend/app/routers/queries.py
  warnings.warn(message, stacklevel=1)
INFO:     127.0.0.1:42706 - "GET /openapi.json HTTP/1.1" 200 OK
2025-08-23 10:46:12,212 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-08-23 10:46:12,213 INFO sqlalchemy.engine.Engine SELECT connections.id, connections.name, connections.connection_string, connections.database_type, connections.is_active, connections.created_at, connections.updated_at 
FROM connections 
WHERE connections.id = ?
2025-08-23 10:46:12,213 INFO sqlalchemy.engine.Engine [generated in 0.00022s] (1,)
2025-08-23 10:46:12,219 INFO sqlalchemy.engine.Engine INSERT INTO enum_files (connection_id, filename, original_filename, file_path, content_json, description, is_active, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id, created_at
2025-08-23 10:46:12,220 INFO sqlalchemy.engine.Engine [generated in 0.00033s] (1, '1_37dce883b82e4f958a71f36a8d7c7178_test_enum.json', 'test_enum.json', '/home/rick/source/dbairag/backend/enum_files/1_37dce883b82e4f958a71f36a8d7c7178_test_enum.json', '{"enums": {"ApplicationStatus": {"description": "Status of scholarship applications", "values": {"DRAFT": {"value": 1, "description": "Application is ... (699 characters truncated) ... OME_STATEMENT": {"value": 4, "description": "Income statement or proof of income"}, "OTHER": {"value": 99, "description": "Other document types"}}}}}', 'Application and Document status enums', 1, None)
2025-08-23 10:46:12,227 INFO sqlalchemy.engine.Engine COMMIT
2025-08-23 10:46:12,251 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-08-23 10:46:12,261 INFO sqlalchemy.engine.Engine SELECT enum_files.id, enum_files.connection_id, enum_files.filename, enum_files.original_filename, enum_files.file_path, enum_files.content_json, enum_files.description, enum_files.is_active, enum_files.created_at, enum_files.updated_at 
FROM enum_files 
WHERE enum_files.id = ?
2025-08-23 10:46:12,262 INFO sqlalchemy.engine.Engine [generated in 0.00537s] (1,)
2025-08-23 10:46:12,266 INFO sqlalchemy.engine.Engine SELECT enum_files.id, enum_files.connection_id, enum_files.filename, enum_files.original_filename, enum_files.file_path, enum_files.content_json, enum_files.description, enum_files.is_active, enum_files.created_at, enum_files.updated_at 
FROM enum_files 
WHERE enum_files.connection_id = ? AND enum_files.is_active = 1
2025-08-23 10:46:12,267 INFO sqlalchemy.engine.Engine [generated in 0.00102s] (1,)
2025-08-23 10:46:12,269 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:49430 - "POST /api/queries/enums/1/upload HTTP/1.1" 200 OK
2025-08-23 10:46:24,607 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-08-23 10:46:24,607 INFO sqlalchemy.engine.Engine SELECT connections.id, connections.name, connections.connection_string, connections.database_type, connections.is_active, connections.created_at, connections.updated_at 
FROM connections 
WHERE connections.id = ?
2025-08-23 10:46:24,607 INFO sqlalchemy.engine.Engine [cached since 12.39s ago] (1,)
2025-08-23 10:46:24,608 INFO sqlalchemy.engine.Engine SELECT enum_files.id, enum_files.connection_id, enum_files.filename, enum_files.original_filename, enum_files.file_path, enum_files.content_json, enum_files.description, enum_files.is_active, enum_files.created_at, enum_files.updated_at 
FROM enum_files 
WHERE enum_files.connection_id = ? AND enum_files.is_active = 1
2025-08-23 10:46:24,608 INFO sqlalchemy.engine.Engine [cached since 12.34s ago] (1,)
2025-08-23 10:46:24,609 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:55774 - "GET /api/queries/enums/1/files HTTP/1.1" 200 OK
INFO:     127.0.0.1:50786 - "POST /api/queries/enums/1/load HTTP/1.1" 422 Unprocessable Content
2025-08-23 10:47:05,099 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-08-23 10:47:05,099 INFO sqlalchemy.engine.Engine SELECT connections.id, connections.name, connections.connection_string, connections.database_type, connections.is_active, connections.created_at, connections.updated_at 
FROM connections 
WHERE connections.id = ?
2025-08-23 10:47:05,099 INFO sqlalchemy.engine.Engine [cached since 52.89s ago] (1,)
2025-08-23 10:47:05,103 INFO sqlalchemy.engine.Engine INSERT INTO enum_files (connection_id, filename, original_filename, file_path, content_json, description, is_active, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id, created_at
2025-08-23 10:47:05,103 INFO sqlalchemy.engine.Engine [cached since 52.88s ago] (1, '1_878c3909779642c5a8ff8ac192573890_test_enum2.json', 'test_enum2.json', '/home/rick/source/dbairag/backend/enum_files/1_878c3909779642c5a8ff8ac192573890_test_enum2.json', '{"enums": {"UserRole": {"description": "User roles in the system", "values": {"STUDENT": {"value": 1, "description": "Student user"}, "ADMIN": {"valu ... (423 characters truncated) ... tion": "Payment completed"}, "FAILED": {"value": 4, "description": "Payment failed"}, "REFUNDED": {"value": 5, "description": "Payment refunded"}}}}}', 'User roles and payment status enums', 1, None)
2025-08-23 10:47:05,105 INFO sqlalchemy.engine.Engine COMMIT
2025-08-23 10:47:05,113 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-08-23 10:47:05,114 INFO sqlalchemy.engine.Engine SELECT enum_files.id, enum_files.connection_id, enum_files.filename, enum_files.original_filename, enum_files.file_path, enum_files.content_json, enum_files.description, enum_files.is_active, enum_files.created_at, enum_files.updated_at 
FROM enum_files 
WHERE enum_files.id = ?
2025-08-23 10:47:05,114 INFO sqlalchemy.engine.Engine [cached since 52.86s ago] (2,)
2025-08-23 10:47:05,115 INFO sqlalchemy.engine.Engine SELECT enum_files.id, enum_files.connection_id, enum_files.filename, enum_files.original_filename, enum_files.file_path, enum_files.content_json, enum_files.description, enum_files.is_active, enum_files.created_at, enum_files.updated_at 
FROM enum_files 
WHERE enum_files.connection_id = ? AND enum_files.is_active = 1
2025-08-23 10:47:05,116 INFO sqlalchemy.engine.Engine [cached since 52.85s ago] (1,)
2025-08-23 10:47:05,117 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:51374 - "POST /api/queries/enums/1/upload HTTP/1.1" 200 OK
2025-08-23 10:47:10,491 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-08-23 10:47:10,491 INFO sqlalchemy.engine.Engine SELECT connections.id, connections.name, connections.connection_string, connections.database_type, connections.is_active, connections.created_at, connections.updated_at 
FROM connections 
WHERE connections.id = ?
2025-08-23 10:47:10,491 INFO sqlalchemy.engine.Engine [cached since 58.28s ago] (1,)
2025-08-23 10:47:10,493 INFO sqlalchemy.engine.Engine SELECT enum_files.id, enum_files.connection_id, enum_files.filename, enum_files.original_filename, enum_files.file_path, enum_files.content_json, enum_files.description, enum_files.is_active, enum_files.created_at, enum_files.updated_at 
FROM enum_files 
WHERE enum_files.connection_id = ? AND enum_files.is_active = 1
2025-08-23 10:47:10,493 INFO sqlalchemy.engine.Engine [cached since 58.23s ago] (1,)
2025-08-23 10:47:10,494 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:56428 - "GET /api/queries/enums/1/files HTTP/1.1" 200 OK
INFO:     127.0.0.1:56436 - "POST /api/queries/generate-sql/1 HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:39324 - "GET /openapi.json HTTP/1.1" 200 OK
2025-08-23 10:48:21,077 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-08-23 10:48:21,078 INFO sqlalchemy.engine.Engine SELECT connections.id, connections.name, connections.connection_string, connections.database_type, connections.is_active, connections.created_at, connections.updated_at 
FROM connections 
WHERE connections.id = ?
2025-08-23 10:48:21,078 INFO sqlalchemy.engine.Engine [cached since 128.9s ago] (1,)
/home/rick/source/dbairag/backend/app/services/mssql_service.py:46: UserWarning: pandas only supports SQLAlchemy connectable (engine/connection) or database string URI or sqlite3 DBAPI2 connection. Other DBAPI2 objects are not tested. Please consider using SQLAlchemy.
  df = pd.read_sql(query, conn)
2025-08-23 10:48:23,803 INFO sqlalchemy.engine.Engine INSERT INTO query_history (connection_id, prompt, generated_sql, result_type, result_data, execution_time) VALUES (?, ?, ?, ?, ?, ?) RETURNING id, created_at
2025-08-23 10:48:23,803 INFO sqlalchemy.engine.Engine [generated in 0.00031s] (1, 'Show me all applications with APPROVED status', 'SELECT * FROM Applications WHERE ApplicationStatus = 4', <ResultType.ERROR: 'error'>, '{"error": "Execution failed on sql \'SELECT * FROM Applications WHERE ApplicationStatus = 4\': (208, b\\"Invalid object name \'Applications\'.DB-Lib error message 20018, severity 16:\\\\nGeneral SQL Server error: Check messages from the SQL Server\\\\n\\")"}', 2720)
2025-08-23 10:48:23,808 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:59666 - "POST /api/queries/execute HTTP/1.1" 200 OK
2025-08-23 10:48:35,064 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-08-23 10:48:35,065 INFO sqlalchemy.engine.Engine SELECT connections.id, connections.name, connections.connection_string, connections.database_type, connections.is_active, connections.created_at, connections.updated_at 
FROM connections 
WHERE connections.id = ?
2025-08-23 10:48:35,065 INFO sqlalchemy.engine.Engine [cached since 142.9s ago] (1,)
/home/rick/source/dbairag/backend/app/services/mssql_service.py:46: UserWarning: pandas only supports SQLAlchemy connectable (engine/connection) or database string URI or sqlite3 DBAPI2 connection. Other DBAPI2 objects are not tested. Please consider using SQLAlchemy.
  df = pd.read_sql(query, conn)
2025-08-23 10:48:37,786 INFO sqlalchemy.engine.Engine INSERT INTO query_history (connection_id, prompt, generated_sql, result_type, result_data, execution_time) VALUES (?, ?, ?, ?, ?, ?) RETURNING id, created_at
2025-08-23 10:48:37,786 INFO sqlalchemy.engine.Engine [cached since 13.98s ago] (1, 'Find all students with pending payments', 'SELECT * FROM Students WITH (NOLOCK) WHERE PaymentStatus = 1', <ResultType.ERROR: 'error'>, '{"error": "Execution failed on sql \'SELECT * FROM Students WITH (NOLOCK) WHERE PaymentStatus = 1\': (207, b\\"Invalid column name \'PaymentStatus\'.DB-Lib error message 20018, severity 16:\\\\nGeneral SQL Server error: Check messages from the SQL Server\\\\n\\")"}', 2718)
2025-08-23 10:48:37,788 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:39770 - "POST /api/queries/execute HTTP/1.1" 200 OK
2025-08-23 10:48:46,803 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-08-23 10:48:46,803 INFO sqlalchemy.engine.Engine SELECT connections.id, connections.name, connections.connection_string, connections.database_type, connections.is_active, connections.created_at, connections.updated_at 
FROM connections 
WHERE connections.id = ?
2025-08-23 10:48:46,803 INFO sqlalchemy.engine.Engine [cached since 154.6s ago] (1,)
/home/rick/source/dbairag/backend/app/services/mssql_service.py:46: UserWarning: pandas only supports SQLAlchemy connectable (engine/connection) or database string URI or sqlite3 DBAPI2 connection. Other DBAPI2 objects are not tested. Please consider using SQLAlchemy.
  df = pd.read_sql(query, conn)
2025-08-23 10:48:49,358 INFO sqlalchemy.engine.Engine INSERT INTO query_history (connection_id, prompt, generated_sql, result_type, result_data, execution_time) VALUES (?, ?, ?, ?, ?, ?) RETURNING id, created_at
2025-08-23 10:48:49,358 INFO sqlalchemy.engine.Engine [cached since 25.55s ago] (1, 'Show all admin and reviewer users', 'SELECT * FROM Users WHERE UserRole IN (2, 3)', <ResultType.ERROR: 'error'>, '{"error": "Execution failed on sql \'SELECT * FROM Users WHERE UserRole IN (2, 3)\': (208, b\\"Invalid object name \'Users\'.DB-Lib error message 20018, severity 16:\\\\nGeneral SQL Server error: Check messages from the SQL Server\\\\n\\")"}', 2551)
2025-08-23 10:48:49,361 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:40380 - "POST /api/queries/execute HTTP/1.1" 200 OK
2025-08-23 10:48:56,205 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-08-23 10:48:56,207 INFO sqlalchemy.engine.Engine SELECT enum_files.id, enum_files.connection_id, enum_files.filename, enum_files.original_filename, enum_files.file_path, enum_files.content_json, enum_files.description, enum_files.is_active, enum_files.created_at, enum_files.updated_at 
FROM enum_files 
WHERE enum_files.id = ? AND enum_files.connection_id = ?
2025-08-23 10:48:56,207 INFO sqlalchemy.engine.Engine [generated in 0.00027s] (2, 1)
2025-08-23 10:48:56,210 INFO sqlalchemy.engine.Engine DELETE FROM enum_files WHERE enum_files.id = ?
2025-08-23 10:48:56,210 INFO sqlalchemy.engine.Engine [generated in 0.00025s] (2,)
2025-08-23 10:48:56,211 INFO sqlalchemy.engine.Engine COMMIT
2025-08-23 10:48:56,223 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-08-23 10:48:56,224 INFO sqlalchemy.engine.Engine SELECT enum_files.id, enum_files.connection_id, enum_files.filename, enum_files.original_filename, enum_files.file_path, enum_files.content_json, enum_files.description, enum_files.is_active, enum_files.created_at, enum_files.updated_at 
FROM enum_files 
WHERE enum_files.connection_id = ? AND enum_files.is_active = 1
2025-08-23 10:48:56,224 INFO sqlalchemy.engine.Engine [cached since 164s ago] (1,)
2025-08-23 10:48:56,225 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:52178 - "DELETE /api/queries/enums/1/files/2 HTTP/1.1" 200 OK
2025-08-23 10:49:02,114 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-08-23 10:49:02,114 INFO sqlalchemy.engine.Engine SELECT connections.id, connections.name, connections.connection_string, connections.database_type, connections.is_active, connections.created_at, connections.updated_at 
FROM connections 
WHERE connections.id = ?
2025-08-23 10:49:02,114 INFO sqlalchemy.engine.Engine [cached since 169.9s ago] (1,)
2025-08-23 10:49:02,116 INFO sqlalchemy.engine.Engine SELECT enum_files.id, enum_files.connection_id, enum_files.filename, enum_files.original_filename, enum_files.file_path, enum_files.content_json, enum_files.description, enum_files.is_active, enum_files.created_at, enum_files.updated_at 
FROM enum_files 
WHERE enum_files.connection_id = ? AND enum_files.is_active = 1
2025-08-23 10:49:02,116 INFO sqlalchemy.engine.Engine [cached since 169.8s ago] (1,)
2025-08-23 10:49:02,117 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:53842 - "GET /api/queries/enums/1/files HTTP/1.1" 200 OK
2025-08-23 10:49:17,372 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-08-23 10:49:17,372 INFO sqlalchemy.engine.Engine SELECT connections.id, connections.name, connections.connection_string, connections.database_type, connections.is_active, connections.created_at, connections.updated_at 
FROM connections 
WHERE connections.id = ?
2025-08-23 10:49:17,373 INFO sqlalchemy.engine.Engine [cached since 185.2s ago] (1,)
/home/rick/source/dbairag/backend/app/services/mssql_service.py:46: UserWarning: pandas only supports SQLAlchemy connectable (engine/connection) or database string URI or sqlite3 DBAPI2 connection. Other DBAPI2 objects are not tested. Please consider using SQLAlchemy.
  df = pd.read_sql(query, conn)
2025-08-23 10:49:19,862 INFO sqlalchemy.engine.Engine INSERT INTO query_history (connection_id, prompt, generated_sql, result_type, result_data, execution_time) VALUES (?, ?, ?, ?, ?, ?) RETURNING id, created_at
2025-08-23 10:49:19,862 INFO sqlalchemy.engine.Engine [cached since 56.06s ago] (1, 'Show rejected applications', 'SELECT * FROM Applications WITH (NOLOCK) WHERE ApplicationStatus = 5', <ResultType.ERROR: 'error'>, '{"error": "Execution failed on sql \'SELECT * FROM Applications WITH (NOLOCK) WHERE ApplicationStatus = 5\': (208, b\\"Invalid object name \'Applications\'.DB-Lib error message 20018, severity 16:\\\\nGeneral SQL Server error: Check messages from the SQL Server\\\\n\\")"}', 2482)
2025-08-23 10:49:19,864 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:57164 - "POST /api/queries/execute HTTP/1.1" 200 OK
WARNING:  StatReload detected changes in 'app/config.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [430569]
INFO:     Started server process [438596]
INFO:     Waiting for application startup.
OpenAI ChatGPT initialized successfully
2025-08-23 10:51:43,943 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-08-23 10:51:43,943 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("connections")
2025-08-23 10:51:43,943 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-08-23 10:51:43,944 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("enum_files")
2025-08-23 10:51:43,945 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-08-23 10:51:43,945 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("query_history")
2025-08-23 10:51:43,945 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-08-23 10:51:43,946 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'app/main.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [438596]
Process SpawnProcess-20:
Traceback (most recent call last):
  File "/usr/lib64/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/usr/lib64/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib64/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/usr/lib64/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "/usr/lib64/python3.13/asyncio/base_events.py", line 725, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/config.py", line 436, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/importer.py", line 22, in import_from_string
    raise exc from None
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/usr/lib64/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/home/rick/source/dbairag/backend/app/main.py", line 8, in <module>
    from .services.redis_service import redis_service
  File "/home/rick/source/dbairag/backend/app/services/redis_service.py", line 5, in <module>
    import redis.asyncio as redis
ModuleNotFoundError: No module named 'redis'
OpenAI ChatGPT initialized successfully
WARNING:  StatReload detected changes in 'app/services/schema_analyzer.py'. Reloading...
Process SpawnProcess-21:
Traceback (most recent call last):
  File "/usr/lib64/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/usr/lib64/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib64/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/usr/lib64/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "/usr/lib64/python3.13/asyncio/base_events.py", line 725, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/config.py", line 436, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/importer.py", line 22, in import_from_string
    raise exc from None
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/usr/lib64/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/home/rick/source/dbairag/backend/app/main.py", line 8, in <module>
    from .services.redis_service import redis_service
  File "/home/rick/source/dbairag/backend/app/services/redis_service.py", line 5, in <module>
    import redis.asyncio as redis
ModuleNotFoundError: No module named 'redis'
OpenAI ChatGPT initialized successfully
WARNING:  StatReload detected changes in 'app/services/schema_analyzer.py'. Reloading...
Process SpawnProcess-22:
Traceback (most recent call last):
  File "/usr/lib64/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/usr/lib64/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib64/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/usr/lib64/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "/usr/lib64/python3.13/asyncio/base_events.py", line 725, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/config.py", line 436, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/importer.py", line 22, in import_from_string
    raise exc from None
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/usr/lib64/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/home/rick/source/dbairag/backend/app/main.py", line 8, in <module>
    from .services.redis_service import redis_service
  File "/home/rick/source/dbairag/backend/app/services/redis_service.py", line 5, in <module>
    import redis.asyncio as redis
ModuleNotFoundError: No module named 'redis'
OpenAI ChatGPT initialized successfully
WARNING:  StatReload detected changes in 'app/routers/queries.py'. Reloading...
Process SpawnProcess-23:
Traceback (most recent call last):
  File "/usr/lib64/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/usr/lib64/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib64/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/usr/lib64/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "/usr/lib64/python3.13/asyncio/base_events.py", line 725, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/config.py", line 436, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/importer.py", line 22, in import_from_string
    raise exc from None
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/usr/lib64/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/home/rick/source/dbairag/backend/app/main.py", line 7, in <module>
    from .routers import connections, queries
  File "/home/rick/source/dbairag/backend/app/routers/queries.py", line 22, in <module>
    from ..services.redis_service import redis_service
  File "/home/rick/source/dbairag/backend/app/services/redis_service.py", line 5, in <module>
    import redis.asyncio as redis
ModuleNotFoundError: No module named 'redis'
WARNING:  StatReload detected changes in 'app/services/enum_service.py'. Reloading...
Process SpawnProcess-24:
Traceback (most recent call last):
  File "/usr/lib64/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/usr/lib64/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib64/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/usr/lib64/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "/usr/lib64/python3.13/asyncio/base_events.py", line 725, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/config.py", line 436, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/importer.py", line 22, in import_from_string
    raise exc from None
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/usr/lib64/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/home/rick/source/dbairag/backend/app/main.py", line 7, in <module>
    from .routers import connections, queries
  File "/home/rick/source/dbairag/backend/app/routers/queries.py", line 22, in <module>
    from ..services.redis_service import redis_service
  File "/home/rick/source/dbairag/backend/app/services/redis_service.py", line 5, in <module>
    import redis.asyncio as redis
ModuleNotFoundError: No module named 'redis'
WARNING:  StatReload detected changes in 'app/services/enum_service.py'. Reloading...
Process SpawnProcess-25:
Traceback (most recent call last):
  File "/usr/lib64/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/usr/lib64/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib64/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/usr/lib64/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "/usr/lib64/python3.13/asyncio/base_events.py", line 725, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/config.py", line 436, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/importer.py", line 22, in import_from_string
    raise exc from None
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/usr/lib64/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/home/rick/source/dbairag/backend/app/main.py", line 7, in <module>
    from .routers import connections, queries
  File "/home/rick/source/dbairag/backend/app/routers/queries.py", line 22, in <module>
    from ..services.redis_service import redis_service
  File "/home/rick/source/dbairag/backend/app/services/redis_service.py", line 5, in <module>
    import redis.asyncio as redis
ModuleNotFoundError: No module named 'redis'
WARNING:  StatReload detected changes in 'app/services/enum_service.py'. Reloading...
Process SpawnProcess-26:
Traceback (most recent call last):
  File "/usr/lib64/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/usr/lib64/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib64/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/usr/lib64/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "/usr/lib64/python3.13/asyncio/base_events.py", line 725, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/config.py", line 436, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/importer.py", line 22, in import_from_string
    raise exc from None
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/usr/lib64/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/home/rick/source/dbairag/backend/app/main.py", line 7, in <module>
    from .routers import connections, queries
  File "/home/rick/source/dbairag/backend/app/routers/queries.py", line 22, in <module>
    from ..services.redis_service import redis_service
  File "/home/rick/source/dbairag/backend/app/services/redis_service.py", line 5, in <module>
    import redis.asyncio as redis
ModuleNotFoundError: No module named 'redis'
WARNING:  StatReload detected changes in 'app/services/enum_service.py'. Reloading...
Process SpawnProcess-27:
Traceback (most recent call last):
  File "/usr/lib64/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/usr/lib64/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib64/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/usr/lib64/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "/usr/lib64/python3.13/asyncio/base_events.py", line 725, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/config.py", line 436, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/importer.py", line 22, in import_from_string
    raise exc from None
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/usr/lib64/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/home/rick/source/dbairag/backend/app/main.py", line 7, in <module>
    from .routers import connections, queries
  File "/home/rick/source/dbairag/backend/app/routers/queries.py", line 22, in <module>
    from ..services.redis_service import redis_service
  File "/home/rick/source/dbairag/backend/app/services/redis_service.py", line 5, in <module>
    import redis.asyncio as redis
ModuleNotFoundError: No module named 'redis'
WARNING:  StatReload detected changes in 'app/routers/queries.py'. Reloading...
Process SpawnProcess-28:
Traceback (most recent call last):
  File "/usr/lib64/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/usr/lib64/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib64/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/usr/lib64/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "/usr/lib64/python3.13/asyncio/base_events.py", line 725, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/config.py", line 436, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/importer.py", line 22, in import_from_string
    raise exc from None
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/usr/lib64/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/home/rick/source/dbairag/backend/app/main.py", line 7, in <module>
    from .routers import connections, queries
  File "/home/rick/source/dbairag/backend/app/routers/queries.py", line 22, in <module>
    from ..services.redis_service import redis_service
  File "/home/rick/source/dbairag/backend/app/services/redis_service.py", line 5, in <module>
    import redis.asyncio as redis
ModuleNotFoundError: No module named 'redis'
WARNING:  StatReload detected changes in 'app/services/rag_service.py'. Reloading...
Process SpawnProcess-29:
Traceback (most recent call last):
  File "/usr/lib64/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/usr/lib64/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib64/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/usr/lib64/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "/usr/lib64/python3.13/asyncio/base_events.py", line 725, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/config.py", line 436, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/importer.py", line 22, in import_from_string
    raise exc from None
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/usr/lib64/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/home/rick/source/dbairag/backend/app/main.py", line 7, in <module>
    from .routers import connections, queries
  File "/home/rick/source/dbairag/backend/app/routers/queries.py", line 22, in <module>
    from ..services.redis_service import redis_service
  File "/home/rick/source/dbairag/backend/app/services/redis_service.py", line 5, in <module>
    import redis.asyncio as redis
ModuleNotFoundError: No module named 'redis'
WARNING:  StatReload detected changes in 'app/services/rag_service.py'. Reloading...
Process SpawnProcess-30:
Traceback (most recent call last):
  File "/usr/lib64/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/usr/lib64/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib64/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/usr/lib64/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "/usr/lib64/python3.13/asyncio/base_events.py", line 725, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/config.py", line 436, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/usr/lib64/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/home/rick/source/dbairag/backend/app/main.py", line 7, in <module>
    from .routers import connections, queries
  File "/home/rick/source/dbairag/backend/app/routers/connections.py", line 8, in <module>
    from ..services.mssql_service import MSSQLService
  File "/home/rick/source/dbairag/backend/app/services/__init__.py", line 2, in <module>
    from .rag_service import RAGService
  File "/home/rick/source/dbairag/backend/app/services/rag_service.py", line 113
    enum_context = await enum_service.get_enum_context(connection_id)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
SyntaxError: 'await' outside async function
WARNING:  StatReload detected changes in 'app/services/rag_service.py'. Reloading...
Process SpawnProcess-31:
Traceback (most recent call last):
  File "/usr/lib64/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/usr/lib64/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib64/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/usr/lib64/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "/usr/lib64/python3.13/asyncio/base_events.py", line 725, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/config.py", line 436, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/usr/lib64/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/home/rick/source/dbairag/backend/app/main.py", line 7, in <module>
    from .routers import connections, queries
  File "/home/rick/source/dbairag/backend/app/routers/connections.py", line 8, in <module>
    from ..services.mssql_service import MSSQLService
  File "/home/rick/source/dbairag/backend/app/services/__init__.py", line 2, in <module>
    from .rag_service import RAGService
  File "/home/rick/source/dbairag/backend/app/services/rag_service.py", line 122
    enum_context = await enum_service.get_enum_context(connection_id)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
SyntaxError: 'await' outside async function
WARNING:  StatReload detected changes in 'app/services/rag_service.py'. Reloading...
Process SpawnProcess-32:
Traceback (most recent call last):
  File "/usr/lib64/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/usr/lib64/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib64/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/usr/lib64/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "/usr/lib64/python3.13/asyncio/base_events.py", line 725, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/config.py", line 436, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/usr/lib64/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/home/rick/source/dbairag/backend/app/main.py", line 7, in <module>
    from .routers import connections, queries
  File "/home/rick/source/dbairag/backend/app/routers/connections.py", line 8, in <module>
    from ..services.mssql_service import MSSQLService
  File "/home/rick/source/dbairag/backend/app/services/__init__.py", line 2, in <module>
    from .rag_service import RAGService
  File "/home/rick/source/dbairag/backend/app/services/rag_service.py", line 138
    enum_context = await enum_service.get_enum_context(connection_id)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
SyntaxError: 'await' outside async function
WARNING:  StatReload detected changes in 'app/services/rag_service.py'. Reloading...
Process SpawnProcess-33:
Traceback (most recent call last):
  File "/usr/lib64/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/usr/lib64/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib64/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/usr/lib64/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "/usr/lib64/python3.13/asyncio/base_events.py", line 725, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/config.py", line 436, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/usr/lib64/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/home/rick/source/dbairag/backend/app/main.py", line 7, in <module>
    from .routers import connections, queries
  File "/home/rick/source/dbairag/backend/app/routers/connections.py", line 8, in <module>
    from ..services.mssql_service import MSSQLService
  File "/home/rick/source/dbairag/backend/app/services/__init__.py", line 2, in <module>
    from .rag_service import RAGService
  File "/home/rick/source/dbairag/backend/app/services/rag_service.py", line 146
    enum_context = await enum_service.get_enum_context(connection_id)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
SyntaxError: 'await' outside async function
WARNING:  StatReload detected changes in 'app/routers/queries.py'. Reloading...
Process SpawnProcess-34:
Traceback (most recent call last):
  File "/usr/lib64/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/usr/lib64/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib64/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/usr/lib64/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "/usr/lib64/python3.13/asyncio/base_events.py", line 725, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/config.py", line 436, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/usr/lib64/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/home/rick/source/dbairag/backend/app/main.py", line 7, in <module>
    from .routers import connections, queries
  File "/home/rick/source/dbairag/backend/app/routers/connections.py", line 8, in <module>
    from ..services.mssql_service import MSSQLService
  File "/home/rick/source/dbairag/backend/app/services/__init__.py", line 2, in <module>
    from .rag_service import RAGService
  File "/home/rick/source/dbairag/backend/app/services/rag_service.py", line 146
    enum_context = await enum_service.get_enum_context(connection_id)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
SyntaxError: 'await' outside async function
WARNING:  StatReload detected changes in 'app/routers/queries.py'. Reloading...
Process SpawnProcess-35:
Traceback (most recent call last):
  File "/usr/lib64/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/usr/lib64/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib64/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/usr/lib64/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "/usr/lib64/python3.13/asyncio/base_events.py", line 725, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/config.py", line 436, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/home/rick/source/dbairag/backend/venv/lib64/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/usr/lib64/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/home/rick/source/dbairag/backend/app/main.py", line 7, in <module>
    from .routers import connections, queries
  File "/home/rick/source/dbairag/backend/app/routers/connections.py", line 8, in <module>
    from ..services.mssql_service import MSSQLService
  File "/home/rick/source/dbairag/backend/app/services/__init__.py", line 2, in <module>
    from .rag_service import RAGService
  File "/home/rick/source/dbairag/backend/app/services/rag_service.py", line 146
    enum_context = await enum_service.get_enum_context(connection_id)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
SyntaxError: 'await' outside async function
INFO:     Stopping reloader process [407913]
